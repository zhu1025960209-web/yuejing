# 月经记录应用 (YueJing)

## 项目简介
这是一个月经记录应用，使用自定义后端服务实现数据同步、实时定位共享和伴侣聊天功能。

## 功能特性
- 记录月经周期
- 预测下次月经日期
- 多设备数据共享
- 实时定位共享（伴侣功能）
- 伴侣聊天功能
- 数据加密传输和存储

## 环境设置

### 后端服务配置
应用使用自定义后端服务实现数据同步和伴侣功能。后端服务使用Node.js + Express开发，提供以下功能：

- 位置管理：获取/上传双方位置
- 消息系统：发送/获取/标记已读消息
- 伴侣共享状态：同步伴侣相关设置和消息

### 本地开发环境
后端服务默认运行在 `http://localhost:3002`，Android应用会自动连接到该地址。

## 技术栈
- Android SDK
- Kotlin
- Jetpack Compose
- SQLite
- OkHttp (网络请求)
- Gson (JSON序列化)
- Node.js + Express (后端服务)
- AES加密算法 (数据安全)

## 实时定位和伴侣聊天功能

### 后端服务
应用支持使用自定义后端服务实现实时定位和伴侣聊天功能。后端服务使用Node.js + Express开发，提供以下API：
- 位置管理：获取/上传双方位置
- 消息系统：发送/获取/标记已读消息
- 伴侣共享状态：同步伴侣相关设置和消息

### 数据加密
为了保护用户隐私，应用使用AES/CBC/PKCS5Padding算法对敏感数据进行加密：
- 上传前：数据序列化 → AES加密 → 上传密文
- 下载后：下载密文 → AES解密 → 反序列化数据

## 权限说明
- 存储权限：用于本地数据存储
- 网络权限：用于API通信
- 位置权限：用于实时定位共享

## 注意事项
- 实时定位功能会消耗电池，建议合理使用
- 数据传输过程中使用AES加密，保护用户隐私
- 后端服务需确保安全配置，防止未授权访问
